/*
 ============================================================================
 Name        : TP_[1].c
 Author      : Candela Bogado
 División    : 1 "E"
 Copyright   : © Candela Bogado - 2022
 Description : Trabajo Práctico 1 - Laboratorio 1
 ============================================================================
 */

#include <stdio.h>
#include <stdlib.h>
#include "CustomFunctions.h"


/**
* \brief Main function
* \param void - none
* \return Int - 0 : success
*
*/
int main(void) {
	setbuf(stdout, NULL);

	printf("¡Bienvenido al sistema de cálculo de precios!\nPresione \"Enter\" para continuar...");
	getchar();

	int userOption;
	int exitValueGetOption;
	float kilometers;
	int exitValueGetKilometers;
	float aerolineasFee;
	float latamFee;
	int userOptionSubMenu;
	int exitValueGetOptionSubMenu;
	int exitValueGetFee;

	kilometers = 0;
	aerolineasFee = 0;
	latamFee = 0;

	do {
		printMenu(kilometers, aerolineasFee, latamFee);

		exitValueGetOption = getOption(&userOption, 1, 6, 3);

		if (exitValueGetOption == 0) {
			switch(userOption) {
				case 1:
					exitValueGetKilometers = getKilometers(&kilometers, 1, 30000, 3);
					if (exitValueGetKilometers < 0) {
						printf("El valor ingresado para kilómetros no es válido y se quedó sin intentos.\n"
								"Revise los valores y vuelva a intentarlo en unos minutos.\n");
					}
					break;
				case 2:
					do {
						printSubMenu(aerolineasFee, latamFee);
						exitValueGetOptionSubMenu = getOption(&userOptionSubMenu, 1, 3, 3);
						if (exitValueGetOptionSubMenu == 0) {
							switch(userOptionSubMenu) {
								case 1:
									getFee(&aerolineasFee, 1, 5000000, 3);
									break;
								case 2:
									getFee(&latamFee, 1, 5000000, 3);
									break;
							}
							if (exitValueGetFee < 0) {
								printf("El valor ingresado para el vuelo no es válido y se quedó sin intentos.\n"
										"Revise los valores y vuelva a intentarlo en unos minutos.\n");
							}
						}
						//SI SE QUEDA SIN INTENTOS
						if (exitValueGetOptionSubMenu < 0) {
							printf("La opción ingresada no es válida y se quedó sin intentos.\nVuelva a intentarlo en unos minutos.\n");
						}
						//SALE SI SE QUEDA SIN INTENTOS O SI PRESIONA 3
					} while (userOptionSubMenu != 3 && exitValueGetOptionSubMenu == 0);
					break;
				case 3:
					break;
				case 4:
					break;
				case 5:
					break;
				case 6:
					break;
			}
		}
		//SALE SI SE QUEDA SIN INTENTOS O SI PRESIONA 6
	} while (userOption != 6 && exitValueGetOption == 0);

	if (exitValueGetOption < 0) {
		printf("La opción ingresada no es válida y se quedó sin intentos.\nVuelva a intentarlo en unos minutos.");
	}
	if (userOption == 6) {
		printf("¡Muchas gracias por su visita! Usted salió del programa.\nPara ingresar más datos, vuelva a iniciar.");
	}
	return 0;
}
